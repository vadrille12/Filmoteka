function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r("kyEFX").register(JSON.parse('{"2B25S":"library.24a82b2f.js","8iIgb":"photo.e4714d22.jpg","7mVsD":"index.20e08295.css","3u2jX":"index.94e434f5.js"}'));var o;o=new URL(r("kyEFX").resolve("8iIgb"),import.meta.url).toString();var s=r("bnGUG"),a=r("2sH7u"),c=r("krGWQ");r("6RiD3");r("TEsX4");const l=document.querySelector(".watched-list-btn"),d=document.querySelector(".queue-list-btn");c.refs.addWatchedBtn.addEventListener("click",(function(e){const t=Number(e.target.dataset.id),i=m.find((e=>{if(t===e.id)return console.log(e.id),e.id}));f(m,i.id),p(m),0===m.length&&(0,a.emptyLibrary)()})),c.refs.addQueueBtn.addEventListener("click",(function(e){const t=Number(e.target.dataset.id),i=g.find((e=>{if(t===e.id)return console.log(e.id),e.id}));f(g,i.id),p(g),0===g.length&&(0,a.emptyLibrary)()})),l.addEventListener("click",(function(){u.innerHTML="",0===m.length&&(0,a.emptyLibrary)();if(_.length>0){const e=JSON.parse(localStorage.getItem("watched-movies"));console.log(e),v.innerHTML="";try{p(e)}catch(e){console.log(e.message)}}})),d.addEventListener("click",(function(){u.innerHTML="",0===g.length&&(0,a.emptyLibrary)();if(_){const e=JSON.parse(localStorage.getItem("queue-movies"));v.innerHTML="";try{p(e)}catch(e){console.log(e.message)}}})),l.addEventListener("click",(function(){l.classList.add("js-active"),d.classList.remove("js-active")})),d.addEventListener("click",(function(){d.classList.add("js-active"),l.classList.remove("js-active")}));const u=document.querySelector(".empty-library"),v=(document.querySelector(".film-list-lib-js"),document.querySelector(".card__list--library")),m=(document.querySelector(".library-default"),JSON.parse(localStorage.getItem("watched-movies"))),g=JSON.parse(localStorage.getItem("queue-movies")),_=m.concat(g);_.filter(((e,t,i)=>i.indexOf(e)===t));function f(e,t){const i=e.findIndex((e=>e.id===t));return i>-1&&e.splice(i,1),e}function h(e){return e.map((e=>localStorage.getItem(e))).join(", ")}function p(t){let i="",n="";(0,s.waitingLi)();const r=t.map((({poster_path:t,title:r,genre_ids:s,release_date:a="",vote_average:c="",id:l})=>(s.length>3&&(s.splice(3,s.length-3),i=h(s),i+=", other"),i=h(s),i.length>24&&(s.pop(),i=h(s),i+=", other"),0===s.length&&(i="genre is unknown"),n=a.slice(0,4),""===n&&(n="release date unknown"),t?`<li id="${l}" class="movie__card">\n        <img\n          src="https://image.tmdb.org/t/p/w500/${t}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${r}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${i}</h3>\n          <h3 class="movie__year">${n}</h3>\n          <div class="movie__average">${c.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`:`<li  id="${l}" class="movie__card">\n        <img width="100%"\n          src="${e(o)}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${r}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${i}</h3>\n          <h3 class="movie__year">${n}</h3>\n          <div class="movie__average">${c.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`))).join("");v.innerHTML=r}p(m),0===m.length&&(0,a.emptyLibrary)();
//# sourceMappingURL=library.24a82b2f.js.map
