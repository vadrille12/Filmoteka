{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,oGCCjDC,SAASC,cAAc,gBACjBD,SAASC,cAAc,qBACrBD,SAASE,eAAe,4BACvBF,SAASC,cAAc,gBAG5BD,SAASC,cAAc,gBAEvBD,SAASC,cAAc,gBAGtBD,SAASC,cAAc,gBACxBD,SAASC,cAAc,aAC1BD,SAASC,cAAc,UAClBD,SAASC,cAAc,gBACrBD,SAASC,cAAc,mBAC3BD,SAASC,cAAc,oBAClBD,SAASC,cAAc,uBACzBD,SAASC,cAAc,qBACzBD,SAASC,cAAc,gBCjBpCE,OAAOC,iBAAiB,QAEjB,WACWJ,SAASC,cAAc,YAAvC,IAKII,EAJEC,EAAWN,SAASC,cAAc,cAClCM,EAAYP,SAASQ,gBACrBC,EAAgBC,aAAaC,QAAQ,cAGvCR,OAAOS,aACTP,EAAYF,OAAOS,WAAW,gCAAgCpB,QAC1D,OACA,SAENW,OACGS,WAAW,gCACXR,iBAAiB,UAAU,SAAAS,IACzBJ,GAAgBK,G,IAGjBR,GACFA,EAASF,iBAAiB,SAAS,SAAUS,GAC3CC,GAAY,E,IAahB,SAASA,I,IAEHC,EAFeC,EAAAC,UAAApC,OAAA,YAAAoC,UAAA,IAAiBA,UAAA,GAChCC,EAAeX,EAAUY,UAAUC,SAAS,SAAW,QAAU,OAEhD,UAAjBF,EACFH,EAAW,OACe,SAAjBG,IACTH,EAAW,SAEbR,EAAUY,UAAUE,OAAOH,GAC3BX,EAAUY,UAAUG,IAAIP,GACxBC,GAAYN,aAAaa,QAAQ,aAAcR,E,CAlB3CN,EACFF,EAAUY,UAAUG,IAAIb,GAExBF,EAAUY,UAAUG,IAAIjB,E,ICjC9B,IACMmB,EAAW,+BCDXC,GDEY,GAAYC,OAATF,EAAS,wBACX,GAAYE,OAATF,EAAS,iBACX,GAAYE,OAATF,EAAS,UCJbxB,SAASC,cAAc,sBACpC0B,EAAW3B,SAASC,cAAc,mBAkBxC,SAAS2B,EAAoBC,G,IAC3BC,EAD2BD,EAC3BC,OACAC,EAF2BF,EAE3BE,YACAC,EAH2BH,EAG3BG,MACAC,EAJ2BJ,EAI3BI,aACAnD,EAL2B+C,EAK3B/C,GACAoD,EAN2BL,EAM3BK,aAEIC,EAAY,GAGhB,GAFAL,EAAOM,KAAI,SAACC,G,OACVF,EAAUG,KAAKD,EAAME,K,IACnBJ,EAAUtD,OAAS,EAAG,CACxB,IAAM2D,EAAaL,EAAUM,MAAM,EAAG,GACtCD,EAAWF,KAAK,SAChBH,EAAYK,C,CAEd,IAAME,EAAYP,EAAUQ,KAAK,MAC3BC,EAAOX,EAAaQ,MAAM,EAAG,GAC7BI,EAASX,EAAaY,QAAQ,GACpC,MAAO,oEAKYpB,OAJU5C,EAAG,0IAIH4C,OD3Cf,oCC8CGA,OAHYK,EAAY,wFAMDL,OAHvB5C,EAAG,gFAKiB4C,OAFGM,EAAM,8DAGRN,OADDgB,EAAU,gDAEPhB,OADFkB,EAAK,qDACIlB,OAAPmB,EAAO,uB,CAlDjDpB,EAAWrB,iBAAiB,SAG5B,WACIqB,EAAWN,UAAUG,IAAI,aACzBK,EAASR,UAAUE,OAAO,Y,IAJ9BM,EAASvB,iBAAiB,SAM1B,WACIuB,EAASR,UAAUG,IAAI,aACvBG,EAAWN,UAAUE,OAAO,Y,IA8ChC,IAAM0B,EAAe/C,SAASC,cAAc,kBACtC+C,EAAUhD,SAASC,cAAc,qBAEjCgD,EAA4B,iBAC5BC,EAA0B,eAC1BC,EAAkBrD,KAAKC,MAC3BW,aAAaC,QAAQsC,IAEjBG,EAAgBtD,KAAKC,MAAMW,aAAaC,QAAQuC,IAChDG,EAAcF,EAAgBzB,OAAO0B,GACrCE,EAAoBD,EAAYE,QACpC,SAACC,EAAMC,EAAOC,G,OAAUA,EAAMC,QAAQH,KAAUC,C,KAa3C,WACL,GAAIJ,EACF,IAEEC,EAAkBlB,KAAI,SAAAtD,GACpB8E,MAAMC,eAAe/E,GAAIgF,MAAK,SAAAC,GAC5B,IAAMC,EAASpC,EAAoBmC,GACnCf,EAAQiB,mBAAmB,YAAaD,E,OAG5C,MAAOE,GACPC,QAAQC,IAAIF,EAAMG,Q,EApBxBC,GAEA7C,EAAWrB,iBAAiB,SAuB5B,WACE,GAAIiD,EAAa,CACb,IAAMkB,EAAkBzE,KAAKC,MAAMW,aAAaC,QAAQsC,IACxDD,EAAQwB,UAAY,GACpB,IAEAD,EAAgBnC,KAAI,SAAAtD,GAClB8E,MAAMC,eAAe/E,GAAIgF,MAAK,SAAAC,GAC5B,IAAMC,EAASpC,EAAoBmC,GACnCf,EAAQiB,mBAAmB,YAAaD,E,OAG5C,MAAOE,GACPC,QAAQC,IAAIF,EAAMG,Q,MAnCxB1C,EAASvB,iBAAiB,SAwC1B,WACE,GAAIiD,EAAa,CACb,IAAMoB,EAAgB3E,KAAKC,MAAMW,aAAaC,QAAQuC,IACpDF,EAAQwB,UAAY,GACxB,IAEEC,EAAcrC,KAAI,SAAAtD,GAChB8E,MAAMC,eAAe/E,GAAIgF,MAAK,SAAAC,GAC5B,IAAMC,EAASpC,EAAoBmC,GACnCf,EAAQiB,mBAAmB,YAAaD,E,OAG5C,MAAOE,GACPC,QAAQC,IAAIF,EAAMG,Q,MAnDnBf,EAAkBzE,QACrBkE,EAAa5B,UAAUE,OAAO,a,MC/EhCqD,EAAiB9E,EAAA,SAAA+E,aAA6C,SAAW/E,EAAA,SAAAgF,QAA6C,SCItH,IAIQZ,EAJFa,EAAY7E,SAASC,cAAc,kBAIjC+D,EAAS,oHAEgCtC,OAARoD,EAAAJ,GAAQ,oDAE/CG,EAAUZ,mBAAmB,YAAaD,E","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-8ac4beb7ff19248d.js","src/js/refs.js","src/js/switchDayNight.js","src/js/api-vars.js","src/js/watched.js","node_modules/@parcel/runtime-js/lib/runtime-3928170d599201bd.js","src/js/library.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jNRdE\\\":\\\"library.8912a3c7.js\\\",\\\"30ai7\\\":\\\"movies.1bebf4d5.png\\\"}\"));","export const refs = {\n  form: document.querySelector('.header-form'),\n  watchedBtn: document.querySelector('.watched-list-btn'),\n  paginationEl: document.getElementById('tui-pagination-container'),\n  moviesGallery: document.querySelector('.cards__list'),\n\n  //=====moviesEl будет удален - надо переименовать на -- moviesGallery в рабочем файле JS\n  moviesEl: document.querySelector('.cards__list'),\n  //=====formFilm будет удален - надо переименовать на -- form в рабочем файле JS\n  formFilm: document.querySelector('.header-form'),\n\n  //////    Modal movie   ////////\n  cardsList: document.querySelector('.cards__list'),\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  modalMovie: document.querySelector('.modal-movie'),\n  modalContent: document.querySelector('.modal__content'),\n  closeBtn: document.querySelector('.btn-modal__icon'),\n  addWatchedBtn: document.querySelector('.btn-modal__watched'),\n  addQueueBtn: document.querySelector('.btn-modal__queue'),\n  modalText: document.querySelector('.modal__text'),\n};\n","import { refs } from './refs';\n\n\nwindow.addEventListener('load', windowLoad);\n\nexport function windowLoad() {\n  const toggler = document.querySelector('.toggler');\n  const themeBtn = document.querySelector('.theme-btn');\n  const htmlBlock = document.documentElement;\n  const saveUserTheme = localStorage.getItem('user-theme');\n \n  let userTheme;\n  if (window.matchMedia) {\n    userTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n  }\n  window\n    .matchMedia('(prefers-color-scheme: dark)')\n    .addEventListener('change', e => {\n      !saveUserTheme ? changeTheme() : null;\n    });\n\n  if (themeBtn) {\n    themeBtn.addEventListener('click', function (e) {\n      changeTheme(true);\n    });\n  }\n\n  function setThemeClass() {\n    if (saveUserTheme) {\n      htmlBlock.classList.add(saveUserTheme);\n    } else {\n      htmlBlock.classList.add(userTheme);\n    }\n  }\n  setThemeClass();\n\n  function changeTheme(saveTheme = false) {\n    let currentTheme = htmlBlock.classList.contains('light') ? 'light' : 'dark';\n    let newTheme;\n    if (currentTheme === 'light') {\n      newTheme = 'dark';\n    } else if (currentTheme === 'dark') {\n      newTheme = 'light';\n    }\n    htmlBlock.classList.remove(currentTheme);\n    htmlBlock.classList.add(newTheme);\n    saveTheme ? localStorage.setItem('user-theme', newTheme) : null;\n  }\n}\n","const API_KEY = '8b20680c766bc5c37143e5d6b7aa7894';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TREND_URL = `${BASE_URL}/trending/movie/week`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\nconst TRAILER_URL = `${BASE_URL}/movie`;\nexport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL, TRAILER_URL };\n","const watchedBtn = document.querySelector('.watched-list-btn');\nconst queueBtn = document.querySelector('.queue-list-btn');\n\nwatchedBtn.addEventListener('click', onWatched);\nqueueBtn.addEventListener('click', onQueueBtn);\n\nfunction onWatched() {\n    watchedBtn.classList.add('js-active');\n    queueBtn.classList.remove('js-active');\n}\nfunction onQueueBtn() {\n    queueBtn.classList.add('js-active');\n    watchedBtn.classList.remove('js-active');\n}\n\n// // создание \n\nimport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL } from './api-vars.js';\n\nfunction createLibraryMarkup({\n  genres,\n  poster_path,\n  title,\n  release_date,\n  id,\n  vote_average\n}) {\n  let genresArr = [];\n  genres.map((genre) =>\n    genresArr.push(genre.name));\n  if (genresArr.length > 3) {\n    const changedArr = genresArr.slice(0, 2);\n    changedArr.push('Other');\n    genresArr = changedArr;\n  }\n  const genresStr = genresArr.join(', ');\n  const year = release_date.slice(0, 4);\n  const rating = vote_average.toFixed(1);\n  return `<li class=\"grid__item film-card \">\n        <a href=\"#\" data-id=\"${id}\" class=\"list\">\n          <div class=\"film-card__thumb\">\n            <img\n              class=\"film-card__img\"\n              src=\"${API_KEY}${poster_path}\"\n              alt=\"Movie poster\"\n              loading=\"lazy\"\n              id=${id}\n            />\n          </div>\n          <h2 class=\"film-card__header\">${title}</h2>\n        </a>\n        <p class=\"film-card__genres\">${genresStr}</p>\n        <span class=\"film-card__year\">${year}</span>\n        <span class=\"film-card__rating\">${rating}</span>\n      </li>`;\n}\n\n// рендер\nconst emptyLibrary = document.querySelector('.empty-library');\nconst listLib = document.querySelector('.film-list-lib-js');\n\nconst LOCAL_STORAGE_KEY_WATCHED = 'watched-movies';\nconst LOCAL_STORAGE_KEY_QUEUE = 'queue-movies';\nconst saveDataWatched = JSON.parse(\n  localStorage.getItem(LOCAL_STORAGE_KEY_WATCHED)\n);\nconst saveDataQueue = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_QUEUE));\nconst saveDataAll = saveDataWatched.concat(saveDataQueue);\nconst savedDataAllQniue = saveDataAll.filter(\n  (data, index, array) => array.indexOf(data) === index\n);\n\n\ninit();\n\nwatchedBtn.addEventListener('click', onWatchedClick);\nqueueBtn.addEventListener('click', onQueueClick);\n\nif (!savedDataAllQniue.length) {\n  emptyLibrary.classList.remove('is-hidden');\n}\n\nexport function init() {\n  if (saveDataAll) {\n    try {\n      \n      savedDataAllQniue.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } \n  }\n}\n\nfunction onWatchedClick() {\n  if (saveDataAll) {\n      const saveDataWatched = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_WATCHED));\n      listLib.innerHTML = '';\n      try {\n      \n      saveDataWatched.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } \n  }\n}\n\nfunction onQueueClick() {\n  if (saveDataAll) {\n      const saveDataQueue = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_QUEUE));\n        listLib.innerHTML = '';\n    try {\n     \n      saveDataQueue.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } \n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jNRdE') + require('./helpers/bundle-manifest').resolve(\"30ai7\");","import './switchDayNight';\nimport './watched';\nimport fotoUrl from '../images/movies.png';\n\nconst container = document.querySelector('.empty-library');\nemptyLibrary();\n\nfunction emptyLibrary() {\n  const markup = `<div class=\"empty-library\">\n  <p class=\"empty-library__title\">WTF!?</p>\n  <img class=\"empty-library__img\" src=\"${fotoUrl}\" alt =\"стрічка фільму\" width=\"780\" >\n  </div> `;\n  container.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","document","querySelector","getElementById","window","addEventListener","userTheme","themeBtn","htmlBlock","documentElement","saveUserTheme","localStorage","getItem","matchMedia","e","changeTheme","newTheme","saveTheme","arguments","currentTheme","classList","contains","remove","add","setItem","$78277164f899cbaf$export$ca6dda5263526f75","$a215baf1061f969f$var$watchedBtn","concat","$a215baf1061f969f$var$queueBtn","$a215baf1061f969f$var$createLibraryMarkup","param","genres","poster_path","title","release_date","vote_average","genresArr","map","genre","push","name","changedArr","slice","genresStr","join","year","rating","toFixed","$a215baf1061f969f$var$emptyLibrary","$a215baf1061f969f$var$listLib","$a215baf1061f969f$var$LOCAL_STORAGE_KEY_WATCHED","$a215baf1061f969f$var$LOCAL_STORAGE_KEY_QUEUE","$a215baf1061f969f$var$saveDataWatched","$a215baf1061f969f$var$saveDataQueue","$a215baf1061f969f$var$saveDataAll","$a215baf1061f969f$var$savedDataAllQniue","filter","data","index","array","indexOf","fetch","getFilmDetails","then","promise","markup","insertAdjacentHTML","error","console","log","message","$a215baf1061f969f$export$2cd8252107eb640b","saveDataWatched1","innerHTML","saveDataQueue1","$4eba7ce7dc7e9acf$exports","getBundleURL","resolve","$93effc6fc56091ad$var$container","$parcel$interopDefault"],"version":3,"file":"library.8912a3c7.js.map"}