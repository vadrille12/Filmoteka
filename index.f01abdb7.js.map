{"mappings":"oeAAA,MCEMA,EAAWC,SAASC,cAAc,gBAC3BD,SAASC,cAAc,gBAG/BC,iBAAiB,UAMtBC,eAAwBC,GACtB,IACEA,EAAIC,iBACJC,EAAO,EACPC,YAAcH,EAAII,cAAcC,SAASF,YAAYG,MACrDN,EAAIO,OAAOC,SASR,SAA4BC,GACjC,IACE,MAAMC,EAAaD,EAChBE,KAAI,EAACC,YAAEA,EAAWC,MAAEA,EAAKC,OAAEA,EAAMC,aAAEA,EAAYC,aAAEA,KAEzC,0DAEEJ,uHAIkBC,oFAPRC,EAAOH,KAAIM,GAAKA,EAAEC,OAAMC,KAAK,iDAUpBJ,iDACIC,+DAMjCG,KAAK,IAERxB,EAASyB,UAAYV,C,CACrB,MAAOW,GACPC,QAAQC,MAAMF,EAAIG,Q,EA/BlBC,QADmBC,KACKC,Q,CACxB,MAAON,GACPC,QAAQC,MAAMF,EAAIG,Q,KAdtB,IAAItB,EAAO,EACDwB,IAAoBE,MAAKC,GAAYA,EAASF,UCPjD5B,eAAe2B,IACpB,IACE,MAAMI,EAAU,CACdC,QAAS,CACP,eAAgB,mCAKdC,QAAaC,MAAM,4FAAmCH,GAG5D,aAFuBE,EAAKE,M,CAG5B,MAAOX,GACPD,QAAQC,MAAMA,EAAMC,Q,GAIvB,uBACoBE,GAEpB,CAHA,G,WCfG,MAAMS,EAAU,CACZC,OAAQ,MACRL,QAAS,CACT,eAAgB,oCAGThC,iBACX,IACI,MAAMsC,QAAiBJ,MAAM,qFAAoCE,GACjE,IAAKE,EAASC,GACd,MAAM,IAAIC,MAAMF,EAASG,YAEzB,MAAMC,QAAaJ,EAASH,OAC5BZ,QAAQoB,IAAID,E,CACf,MAAMlB,GACHD,QAAQC,O,EAGhBoB,GAIc/C,SAASC,cAAc,uBACZD,SAASC,cAAc,wBAC1BD,SAASC,cAAc","sources":["src/js/api-vars.js","src/js/filmCard.js","src/js/fetchAPI.js","src/js/filmSearch.js"],"sourcesContent":["const API_KEY = '8b20680c766bc5c37143e5d6b7aa7894';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TREND_URL = `${BASE_URL}/trending/movie/week`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\nexport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL };","import { getTrendingMovies } from './fetchAPI';\n\nconst moviesEl = document.querySelector('.cards__list');\nconst form = document.querySelector('.header-form');\n// console.log(moviesEl);\n\nform.addEventListener('submit', onSubmit);\n\nlet page = 1;\nlet arr = getTrendingMovies().then(respData => respData.results);\n// console.log(arr);\n\nasync function onSubmit(evt) {\n  try {\n    evt.preventDefault();\n    page = 1;\n    searchQuery = evt.currentTarget.elements.searchQuery.value;\n    evt.target.reset();\n\n    const data = await getTrendingMovies();\n    showTrendingMovies(data.results);\n  } catch (err) {\n    console.error(err.message);\n  }\n}\n\nexport function showTrendingMovies(arr) {\n  try {\n    const cardMarkup = arr\n      .map(({ poster_path, title, genres, release_date, vote_average }) => {\n        const genreNames = genres.map(g => g.name).join(', ');\n        return `<li class=\"movie__card\">\n        <img\n          src=\"${poster_path}\"\n          class=\"movie__cover\"\n        />\n        <div class=\"movie__info\">\n        <h2 class=\"movie__title\">${title}</h2>\n        <div class=\"movie__item\">\n          <h3 class=\"movie__category\">${genreNames}</h3>\n          <h3 class=\"movie__year\">${release_date}</h3>\n          <div class=\"movie__average\">${vote_average}</div>\n        </div>\n      </div>\n      </li>\n      `;\n      })\n      .join('');\n\n    moviesEl.innerHTML = cardMarkup;\n  } catch (err) {\n    console.error(err.message);\n  }\n}\n","import { API_KEY, BASE_URL, TREND_URL } from './/api-vars.js';\nimport showTrendingMovies from './/filmCard';\nexport async function getTrendingMovies() {\n  try {\n    const options = {\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n      },\n      //   page,\n      //   results,\n    };\n    const resp = await fetch(`${TREND_URL}?api_key=${API_KEY}`, options);\n    const respData = await resp.json();\n    // console.log(respData);\n    return respData;\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n(async function () {\n  const data = await getTrendingMovies();\n  //   console.log(data);\n})();\n","\nimport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL } from './api-vars.js';\n//import { getTrendingMovies } from './fetchAPI'\nimport {showTrendingMovies } from './filmCard'\n\n    const options = {\n        method: \"GET\",\n        headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n        } \n}\nexport default async function getMovie() {\n    try {\n        const response = await fetch(`${SEARCH_URL}?api_key=${API_KEY}`, options);\n        if (!response.ok) {\n        throw new Error(response.statusText)\n        }\n        const data = await response.json();\n        console.log(data);\n    }catch(error) {\n        console.error(); \n    }\n}\ngetMovie()\n\n\n//const form = document.querySelector('.header-form');\nconst input = document.querySelector('.header-form__input');\nconst buttonFilmSearch = document.querySelector('.header-form__button');\nconst moviesGallery = document.querySelector(\".cards__list\")\n\n\n// formFilm.addEventListener('submit', onFormSubmit);\n\n// async function onFormSubmit(event) {\n//     try {\n//         event.preventDefault();\n//         page = 1\n//         searchQuery = event.currentTarget.elements.searchQuery.value.trim();\n//         event.target(reset);\n//         const dataFilm = await getMovie();\n//         showTrendingMovies(dataFilm.results);\n//     } catch (err) {\n//         console.error(err.message)\n//     }\n    \n//}\n\n"],"names":["$0a7486ddd54a8b87$var$moviesEl","document","querySelector","addEventListener","async","evt","preventDefault","$0a7486ddd54a8b87$var$page","searchQuery","currentTarget","elements","value","target","reset","arr1","cardMarkup","map","poster_path","title","genres","release_date","vote_average","g","name","join","innerHTML","err","console","error","message","$0a7486ddd54a8b87$export$2e39d0d53b532317","$90c8fc7a5ef2db29$export$6405226d42414f72","results","then","respData","options","headers","resp","fetch","json","$79801107a2301e92$var$options","method","response","ok","Error","statusText","data","log","$79801107a2301e92$export$2e2bcd8739ae039"],"version":3,"file":"index.f01abdb7.js.map"}