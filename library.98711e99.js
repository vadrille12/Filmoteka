var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n);var o=n("bnGUG"),s=n("2sH7u"),l=n("krGWQ");n("6RiD3");n("TEsX4");const r=document.querySelector(".watched-list-btn"),c=document.querySelector(".queue-list-btn");r.addEventListener("click",(function(){r.classList.add("js-active"),c.classList.remove("js-active")})),c.addEventListener("click",(function(){c.classList.add("js-active"),r.classList.remove("js-active")}));const a=document.querySelector(".empty-library"),d=(document.querySelector(".film-list-lib-js"),document.querySelector(".card__list--library")),v=document.querySelector(".library-default"),m=JSON.parse(localStorage.getItem("watched-movies")),g=JSON.parse(localStorage.getItem("queue-movies")),u=m.concat(g);u.filter(((e,t,i)=>i.indexOf(e)===t));function _(){if(a.innerHTML="",0===m.length&&(0,s.emptyLibrary)(),u.length>0){const e=JSON.parse(localStorage.getItem("watched-movies"));console.log(e),d.innerHTML="";try{f(e)}catch(e){console.log(e.message)}}}function h(e){return e.map((e=>localStorage.getItem(e))).join(", ")}function f(e){let t="",i="";(0,o.waitingLi)();const n=e.map((({poster_path:e,title:n,genre_ids:o,release_date:s="",vote_average:l="",id:r})=>(o.length>3&&(o.splice(3,o.length-3),t=h(o),t+=", other"),t=h(o),t.length>24&&(o.pop(),t=h(o),t+=", other"),0===o.length&&(t="genre is unknown"),i=s.slice(0,4),""===i&&(i="release date unknown"),e?`<li id="${r}" class="movie__card">\n        <img\n          src="https://image.tmdb.org/t/p/w500/${e}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${n}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${t}</h3>\n          <h3 class="movie__year">${i}</h3>\n          <div class="movie__average">${l.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`:`<li  id="${r}" class="movie__card">\n        <img width="100%"\n          src="${photo}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${n}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${t}</h3>\n          <h3 class="movie__year">${i}</h3>\n          <div class="movie__average">${l.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`))).join("");d.innerHTML=n}f(m),l.refs.addWatchedBtn.addEventListener("click",(e=>{const t=Number(e.target.dataset.id),i=m.find((e=>{if(t===e.id)return e}));console.log(i.id);const n=m.filter((e=>{if(i.id!==e.id)return e}));console.log(n),f(n)})),r.addEventListener("click",_),console.log(r),c.addEventListener("click",(function(){a.innerHTML="",0===g.length&&(0,s.emptyLibrary)();if(u){const e=JSON.parse(localStorage.getItem("queue-movies"));d.innerHTML="";try{f(e)}catch(e){console.log(e.message)}}})),v.addEventListener("click",_),window.onload=_(),console.log("heloo");
//# sourceMappingURL=library.98711e99.js.map
