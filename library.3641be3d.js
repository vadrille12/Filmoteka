function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},c={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in c){var t=c[e];delete c[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){c[e]=t},n.parcelRequired7c6=o),o.register("kyEFX",(function(t,n){var r,c;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return c}),(function(e){return c=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},c=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"bHX8u":"library.3641be3d.js","1pOTC":"movies.1bebf4d5.png"}'));document.querySelector("body"),document.querySelector(".header-form"),document.querySelector(".watched-list-btn"),document.getElementById("tui-pagination-container"),document.querySelector(".cards__list"),document.querySelector(".cards__list"),document.querySelector(".header-form"),document.querySelector(".cards__list"),document.querySelector(".backdrop"),document.querySelector(".modal"),document.querySelector(".modal-movie"),document.querySelector(".modal__content"),document.querySelector(".btn-modal__icon"),document.querySelector(".btn-modal__watched"),document.querySelector(".btn-modal__queue"),document.querySelector(".modal__text");window.addEventListener("load",(function(){document.querySelector(".toggler");const e=document.querySelector(".theme-btn"),t=document.documentElement,n=localStorage.getItem("user-theme");let r;window.matchMedia&&(r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{!n&&c()})),e&&e.addEventListener("click",(function(e){c(!0)}));function c(e=!1){let n,r=t.classList.contains("light")?"light":"dark";"light"===r?n="dark":"dark"===r&&(n="light"),t.classList.remove(r),t.classList.add(n),e&&localStorage.setItem("user-theme",n)}n?t.classList.add(n):t.classList.add(r)}));const a=document.querySelector(".watched-list-btn"),i=document.querySelector(".queue-list-btn");function l({genres:e,poster_path:t,title:n,release_date:r,id:c,vote_average:o}){let a=[];if(e.map((e=>a.push(e.name))),a.length>3){const e=a.slice(0,2);e.push("Other"),a=e}return`<li class="grid__item film-card ">\n        <a href="#" data-id="${c}" class="list">\n          <div class="film-card__thumb">\n            <img\n              class="film-card__img"\n              src="8b20680c766bc5c37143e5d6b7aa7894${t}"\n              alt="Movie poster"\n              loading="lazy"\n              id=${c}\n            />\n          </div>\n          <h2 class="film-card__header">${n}</h2>\n        </a>\n        <p class="film-card__genres">${a.join(", ")}</p>\n        <span class="film-card__year">${r.slice(0,4)}</span>\n        <span class="film-card__rating">${o.toFixed(1)}</span>\n      </li>`}a.addEventListener("click",(function(){a.classList.add("js-active"),i.classList.remove("js-active")})),i.addEventListener("click",(function(){i.classList.add("js-active"),a.classList.remove("js-active")}));const s=document.querySelector(".empty-library"),d=document.querySelector(".film-list-lib-js"),u=JSON.parse(localStorage.getItem("watched-movies")),m=JSON.parse(localStorage.getItem("queue-movies")),f=u.concat(m),g=f.filter(((e,t,n)=>n.indexOf(e)===t));!function(){if(f)try{g.map((e=>{fetch.getFilmDetails(e).then((e=>{const t=l(e);d.insertAdjacentHTML("beforeend",t)}))}))}catch(e){console.log(e.message)}}(),a.addEventListener("click",(function(){if(f){const e=JSON.parse(localStorage.getItem("watched-movies"));d.innerHTML="";try{e.map((e=>{fetch.getFilmDetails(e).then((e=>{const t=l(e);d.insertAdjacentHTML("beforeend",t)}))}))}catch(e){console.log(e.message)}}})),i.addEventListener("click",(function(){if(f){const e=JSON.parse(localStorage.getItem("queue-movies"));d.innerHTML="";try{e.map((e=>{fetch.getFilmDetails(e).then((e=>{const t=l(e);d.insertAdjacentHTML("beforeend",t)}))}))}catch(e){console.log(e.message)}}})),g.length||s.classList.remove("is-hidden");var h;h=new URL(o("kyEFX").resolve("1pOTC"),import.meta.url).toString();const p=document.querySelector(".empty-library");!function(){const e=`<div class="empty-library">\n  <p class="empty-library__title">WTF!?</p>\n  <img class="empty-library__img" src="${t(h)}" alt ="стрічка фільму" width="780" >\n  </div> `;p.insertAdjacentHTML("beforeend",e)}();
//# sourceMappingURL=library.3641be3d.js.map
