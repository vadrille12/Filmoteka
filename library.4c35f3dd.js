function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r("kyEFX").register(JSON.parse('{"2B25S":"library.4c35f3dd.js","8iIgb":"photo.e4714d22.jpg","3u2jX":"index.3985ac47.js"}'));var a;a=new URL(r("kyEFX").resolve("8iIgb"),import.meta.url).toString();var s=r("bnGUG"),o=r("2sH7u"),c=r("krGWQ");const l=document.querySelector(".watched-list-btn"),d=document.querySelector(".queue-list-btn");c.refs.addWatchedBtn.addEventListener("click",(function(e){1===v.length&&(0,o.emptyLibrary)();if(c.refs.addWatchedBtn.classList.contains("active-watched")){const t=Number(e.target.dataset.id);h=v.find((e=>{if(t===e.id)return e})),f(v,h.id),b(v)}else{v.push(h),b(v);document.querySelector(".empty-library").innerHTML=""}})),c.refs.addQueueBtn.addEventListener("click",(function(e){1===g.length&&(0,o.emptyLibrary)();if(c.refs.addQueueBtn.classList.contains("active-queue")){const t=Number(e.target.dataset.id);y=g.find((e=>{if(t===e.id)return console.log(e.id),e})),f(g,y.id),b(g)}else{g.push(y),b(g);document.querySelector(".empty-library").innerHTML=""}})),l.addEventListener("click",(function(){u.innerHTML="",0===v.length&&(0,o.emptyLibrary)();if(_.length>0){const e=JSON.parse(localStorage.getItem("watched-movies"));m.innerHTML="";try{b(e)}catch(e){console.log(e.message)}}})),d.addEventListener("click",(function(){u.innerHTML="",0===g.length&&(0,o.emptyLibrary)();if(_){const e=JSON.parse(localStorage.getItem("queue-movies"));m.innerHTML="";try{b(e)}catch(e){console.log(e.message)}}})),l.addEventListener("click",(function(){l.classList.add("js-active"),d.classList.remove("js-active")})),d.addEventListener("click",(function(){d.classList.add("js-active"),l.classList.remove("js-active")}));const u=document.querySelector(".empty-library"),m=(document.querySelector(".film-list-lib-js"),document.querySelector(".card__list--library")),v=(document.querySelector(".library-default"),JSON.parse(localStorage.getItem("watched-movies"))),g=JSON.parse(localStorage.getItem("queue-movies")),_=v.concat(g);_.filter(((e,t,i)=>i.indexOf(e)===t));function f(e,t){const i=e.findIndex((e=>e.id===t));return i>-1&&e.splice(i,1),e}b(v);let h=[],y=[];function p(e){return e.map((e=>localStorage.getItem(e))).join(", ")}function b(t){0===v.length&&0===g.length&&(0,o.emptyLibrary)();let i="",n="";(0,s.waitingLi)();const r=t.map((({poster_path:t,title:r,genre_ids:s,release_date:o="",vote_average:c="",id:l})=>(s.length>3&&(s.splice(3,s.length-3),i=p(s),i+=", other"),i=p(s),i.length>24&&(s.pop(),i=p(s),i+=", other"),0===s.length&&(i="genre is unknown"),n=o.slice(0,4),""===n&&(n="release date unknown"),t?`<li id="${l}" class="movie__card">\n        <img\n          src="https://image.tmdb.org/t/p/w500/${t}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${r}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${i}</h3>\n          <h3 class="movie__year">${n}</h3>\n          <div class="movie__average">${c.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`:`<li  id="${l}" class="movie__card">\n        <img width="100%"\n          src="${e(a)}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${r}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${i}</h3>\n          <h3 class="movie__year">${n}</h3>\n          <div class="movie__average">${c.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`))).join("");m.innerHTML=r}0===v.length&&(0,o.emptyLibrary)();
//# sourceMappingURL=library.4c35f3dd.js.map
