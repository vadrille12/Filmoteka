var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var i=o("bnGUG"),l=o("2sH7u"),r=o("krGWQ");o("6RiD3");o("TEsX4");const s=document.querySelector(".watched-list-btn"),a=document.querySelector(".queue-list-btn");document.querySelector(".empty-library"),document.querySelector(".film-list-lib-js");const c=document.querySelector(".card__list--library"),d=document.querySelector(".library-default"),m=JSON.parse(localStorage.getItem("watched-movies")),v=JSON.parse(localStorage.getItem("queue-movies")),g=m.concat(v);g.filter(((e,t,n)=>n.indexOf(e)===t));function u(){if(0===m.length&&(0,l.emptyLibrary)(),g.length>0){const e=JSON.parse(localStorage.getItem("watched-movies"));console.log(e),c.innerHTML="";try{h(e)}catch(e){console.log(e.message)}}}function _(e){return e.map((e=>localStorage.getItem(e))).join(", ")}function h(e){let t="",n="";(0,i.waitingLi)();const o=e.map((({poster_path:e,title:o,genre_ids:i,release_date:l="",vote_average:r="",id:s})=>(i.length>3&&(i.splice(3,i.length-3),t=_(i),t+=", other"),t=_(i),t.length>24&&(i.pop(),t=_(i),t+=", other"),0===i.length&&(t="genre is unknown"),n=l.slice(0,4),""===n&&(n="release date unknown"),e?`<li id="${s}" class="movie__card">\n        <img\n          src="https://image.tmdb.org/t/p/w500/${e}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${o}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${t}</h3>\n          <h3 class="movie__year">${n}</h3>\n          <div class="movie__average">${r.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`:`<li  id="${s}" class="movie__card">\n        <img width="100%"\n          src="${photo}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${o}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${t}</h3>\n          <h3 class="movie__year">${n}</h3>\n          <div class="movie__average">${r.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`))).join("");c.innerHTML=o}h(m),r.refs.addWatchedBtn.addEventListener("click",(e=>{const t=Number(e.target.dataset.id),n=m.find((e=>{if(t===e.id)return e}));console.log(n.id);const o=m.filter((e=>{if(n.id!==e.id)return e}));console.log(o),h(o)})),s.addEventListener("click",u),console.log(s),a.addEventListener("click",(function(){0===v.length&&(0,l.emptyLibrary)();if(g){const e=JSON.parse(localStorage.getItem("queue-movies"));c.innerHTML="";try{h(e)}catch(e){console.log(e.message)}}})),d.addEventListener("click",u),window.onload=u(),console.log("heloo");
//# sourceMappingURL=library.fd823e0a.js.map
