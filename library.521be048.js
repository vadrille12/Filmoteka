!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var c={id:e,exports:{}};return n[e]=c,i.call(c.exports,c,c.exports),c.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i);var c=i("8AEpj"),o=i("cHsZg"),a=i("4Nugj");i("ajzNc");i("31Aea");var r=document.querySelector(".watched-list-btn"),l=document.querySelector(".queue-list-btn");a.refs.addWatchedBtn.addEventListener("click",(function(e){var n=Number(e.target.dataset.id),t=m.find((function(e){if(n===e.id)return console.log(e.id),e.id}));_(m,t.id),p(m)})),a.refs.addQueueBtn.addEventListener("click",(function(e){var n=Number(e.target.dataset.id),t=f.find((function(e){if(n===e.id)return console.log(e.id),e.id}));_(f,t.id),p(f)})),r.addEventListener("click",(function(){s.innerHTML="",0===m.length&&(0,o.emptyLibrary)();if(g.length>0){var e=JSON.parse(localStorage.getItem(v));console.log(e),d.innerHTML="";try{p(e)}catch(e){console.log(e.message)}}})),l.addEventListener("click",(function(){s.innerHTML="",0===f.length&&(0,o.emptyLibrary)();if(g){var e=JSON.parse(localStorage.getItem(u));d.innerHTML="";try{p(e)}catch(e){console.log(e.message)}}})),r.addEventListener("click",(function(){r.classList.add("js-active"),l.classList.remove("js-active")})),l.addEventListener("click",(function(){l.classList.add("js-active"),r.classList.remove("js-active")}));var s=document.querySelector(".empty-library"),d=(document.querySelector(".film-list-lib-js"),document.querySelector(".card__list--library")),v=(document.querySelector(".library-default"),"watched-movies"),u="queue-movies",m=JSON.parse(localStorage.getItem(v)),f=JSON.parse(localStorage.getItem(u)),g=m.concat(f);g.filter((function(e,n,t){return t.indexOf(e)===n}));function _(e,n){var t=e.findIndex((function(e){return e.id===n}));return t>-1&&e.splice(t,1),e}function h(e){return e.map((function(e){return localStorage.getItem(e)})).join(", ")}function p(e){var n="",t="";(0,c.waitingLi)();var i=e.map((function(e){var i=e.poster_path,c=e.title,o=e.genre_ids,a=e.release_date,r=void 0===a?"":a,l=e.vote_average,s=void 0===l?"":l,d=e.id;return o.length>3&&(o.splice(3,o.length-3),n=h(o),n+=", other"),(n=h(o)).length>24&&(o.pop(),n=h(o),n+=", other"),0===o.length&&(n="genre is unknown"),""===(t=r.slice(0,4))&&(t="release date unknown"),i?'<li id="'.concat(d,'" class="movie__card">\n        <img\n          src="').concat("https://image.tmdb.org/t/p/w500/").concat(i,'"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">').concat(c,'</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">').concat(n,'</h3>\n          <h3 class="movie__year">').concat(t,'</h3>\n          <div class="movie__average">').concat(s.toFixed(1),"</div>\n        </div>\n      </div>\n      </li>"):'<li  id="'.concat(d,'" class="movie__card">\n        <img width="100%"\n          src="').concat(photo,'"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">').concat(c,'</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">').concat(n,'</h3>\n          <h3 class="movie__year">').concat(t,'</h3>\n          <div class="movie__average">').concat(s.toFixed(1),"</div>\n        </div>\n      </div>\n      </li>")})).join("");d.innerHTML=i}p(m)}();
//# sourceMappingURL=library.521be048.js.map
