var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n);var o=n("bnGUG"),s=n("2sH7u"),r=n("krGWQ");n("6RiD3");n("TEsX4");const c=document.querySelector(".watched-list-btn"),a=document.querySelector(".queue-list-btn");r.refs.addWatchedBtn.addEventListener("click",(function(e){const t=Number(e.target.dataset.id),i=v.find((e=>{if(t===e.id)return console.log(e.id),e.id}));g(v,i.id),f(v)})),r.refs.addQueueBtn.addEventListener("click",(function(e){const t=Number(e.target.dataset.id),i=u.find((e=>{if(t===e.id)return console.log(e.id),e.id}));g(u,i.id),f(u)})),c.addEventListener("click",(function(){l.innerHTML="",0===v.length&&(0,s.emptyLibrary)();if(m.length>0){const e=JSON.parse(localStorage.getItem("watched-movies"));console.log(e),d.innerHTML="";try{f(e)}catch(e){console.log(e.message)}}})),a.addEventListener("click",(function(){l.innerHTML="",0===u.length&&(0,s.emptyLibrary)();if(m){const e=JSON.parse(localStorage.getItem("queue-movies"));d.innerHTML="";try{f(e)}catch(e){console.log(e.message)}}})),c.addEventListener("click",(function(){c.classList.add("js-active"),a.classList.remove("js-active")})),a.addEventListener("click",(function(){a.classList.add("js-active"),c.classList.remove("js-active")}));const l=document.querySelector(".empty-library"),d=(document.querySelector(".film-list-lib-js"),document.querySelector(".card__list--library")),v=(document.querySelector(".library-default"),JSON.parse(localStorage.getItem("watched-movies"))),u=JSON.parse(localStorage.getItem("queue-movies")),m=v.concat(u);m.filter(((e,t,i)=>i.indexOf(e)===t));function g(e,t){const i=e.findIndex((e=>e.id===t));return i>-1&&e.splice(i,1),e}function _(e){return e.map((e=>localStorage.getItem(e))).join(", ")}function f(e){let t="",i="";(0,o.waitingLi)();const n=e.map((({poster_path:e,title:n,genre_ids:o,release_date:s="",vote_average:r="",id:c})=>(o.length>3&&(o.splice(3,o.length-3),t=_(o),t+=", other"),t=_(o),t.length>24&&(o.pop(),t=_(o),t+=", other"),0===o.length&&(t="genre is unknown"),i=s.slice(0,4),""===i&&(i="release date unknown"),e?`<li id="${c}" class="movie__card">\n        <img\n          src="https://image.tmdb.org/t/p/w500/${e}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${n}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${t}</h3>\n          <h3 class="movie__year">${i}</h3>\n          <div class="movie__average">${r.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`:`<li  id="${c}" class="movie__card">\n        <img width="100%"\n          src="${photo}"\n          class="movie__cover"\n        />\n        <div class="movie__info">\n        <h2 class="movie__title">${n}</h2>\n        <div class="movie__item">\n          <h3 class="movie__category">${t}</h3>\n          <h3 class="movie__year">${i}</h3>\n          <div class="movie__average">${r.toFixed(1)}</div>\n        </div>\n      </div>\n      </li>`))).join("");d.innerHTML=n}f(v);
//# sourceMappingURL=library.7d40b1a2.js.map
